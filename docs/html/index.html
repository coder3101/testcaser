<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TestCaser: Getting started with TestCaser</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TestCaser
   </div>
   <div id="projectbrief">Test Case Generator for Competitive Programmers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Getting started with TestCaser </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#sec_intro">Introduction</a></li>
<li class="level1"><a href="#sec_install">Installation</a><ul><li class="level2"><a href="#step1">Step 1</a></li>
<li class="level2"><a href="#step2">Step 2</a></li>
</ul>
</li>
<li class="level1"><a href="#started">Your First Test Case</a></li>
<li class="level1"><a href="#under_standing">Understanding Your Program</a></li>
<li class="level1"><a href="#virtual_judge">Your Virtual Judge</a></li>
<li class="level1"><a href="#understanding_v_j">Understanding Your Judge Program</a></li>
<li class="level1"><a href="#more_example">More Examples.</a></li>
</ul>
</div>
<div class="textblock"><dl class="section warning"><dt>Warning</dt><dd>TestCaser is still in Beta</dd>
<dd>
This library is based on C++11. Make sure while compiling you use the flag <b>-std=c++11</b></dd></dl>
<h1><a class="anchor" id="sec_intro"></a>
Introduction</h1>
<p>TestCaser is a header-only light-weight test case maker library written in C++. It is easy, flexible and powerful library that can generate testcases, run your program on those test cases and compare two program's output for the given test case files and lists down the input that causes a different output to be produced. These features can come in handy when you are stuck on some corner cases for a problem or when you want to check your program on valid random inputs. TestCaser has three submodules namely maker, integrator and comparator (comparator is not developed yet). Maker module is used to generate test cases. Integrator integrates a program to accept the test cases made by maker. Comparator compares two program's outputs for given inputs. We also offer command a compiled virtualjudge binary which can be installed along side of the library.</p>
<p>Enough Let's get you started with TestCaser.</p>
<hr/>
<h1><a class="anchor" id="sec_install"></a>
Installation</h1>
<h2><a class="anchor" id="step1"></a>
Step 1</h2>
<p>TestCaser is only available on github. You need to clone it to your local machine to use it.</p>
<p>Run this command from your preferred directory (say downloads) on command line </p><div class="fragment"><div class="line">git clone https://github.com/coder3101/testcaser.git &amp;&amp; cd testcaser</div></div><!-- fragment --><p> Running the above command will download the testcaser repository and switch to that directory.</p>
<h2><a class="anchor" id="step2"></a>
Step 2</h2>
<p>There is no need to Compile the Source code. It is Header only hence you only need to specify to the compiler the path of the testcaser. By default C++ compilers look at <code>/usr/include</code> or <code>usr/local/include</code> for includes in a program. So we need to move testcaser to that directory.</p>
<p>We provide two bash scripts along with the source code namely <a href="https://github.com/coder3101/testcaser/blob/master/install.sh"><b>install.sh</b></a> and <a href="https://github.com/coder3101/testcaser/blob/master/uninstall.sh"><b>uninstall.sh</b></a> To install the testcaser on a linux machine <b>run the install script as a superuser</b>.</p>
<p>You are invited to check the scripts before you run them.</p>
<div class="fragment"><div class="line">sudo ./install.sh</div></div><!-- fragment --><p>Type in your password and wait for the script to install the testcaser. <br />
 You will be asked if you want to install <code>virtualjudge</code> as well. Depending upon the choice, script will install the requested components.</p>
<p>If you get any Error make sure that scripts are executable by running </p><div class="fragment"><div class="line">sudo chmod +x install.sh &amp;&amp; sudo chmod +x uninstall.sh</div></div><!-- fragment --><p>Now you can re-run the install script. If you are non-linux or you don't want to install testcaser. You can specify the location using <code>-I</code> flag of <code>g++</code>.</p>
<hr/>
<h1><a class="anchor" id="started"></a>
Your First Test Case</h1>
<p>Now that you have testcaser Installed Let's get you started with a simple program.</p>
<p>Here is a simple program that generates test cases for following problem </p><blockquote class="doxtable">
<p><b>Input Format</b></p>
<p>The first contains T denoting the number of testcase Each test case contains two space separated Integer A and B</p>
<p><b>Constraints</b></p>
<p>1 &lt;= A &lt; 100000</p>
<p>1 &lt;= B &lt; 100</p>
<p>1 &lt;= T &lt; 10 </p>
</blockquote>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;testcaser/maker&gt;</span></div><div class="line"> </div><div class="line"><span class="keyword">using</span> <a class="code" href="classtestcaser_1_1maker_1_1TestCaseBuilder.html">testcaser::maker::TestCaseBuilder</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="classtestcaser_1_1maker_1_1types_1_1RandomUnsignedInteger.html">testcaser::maker::types::RandomUnsignedInteger</a>;</div><div class="line"> </div><div class="line"><span class="keywordtype">int</span> main() {</div><div class="line">TestCaseBuilder builder(<span class="stringliteral">&quot;./test.txt&quot;</span>);</div><div class="line"> </div><div class="line">RandomUnsignedInteger&lt;&gt; a({1, 100000});</div><div class="line">RandomUnsignedInteger&lt;&gt; b({1, 100});</div><div class="line">RandomUnsignedInteger&lt;&gt; t({1, 10});</div><div class="line"> </div><div class="line"><span class="keyword">auto</span> tt = builder.add(t);</div><div class="line">builder.add_line();</div><div class="line"> </div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> p = 0; p &lt; tt; p++) {</div><div class="line">  builder.add(a);</div><div class="line">  builder.add_space();</div><div class="line">  builder.add(b);</div><div class="line">  builder.add_line();</div><div class="line">}</div><div class="line"> </div><div class="line">builder.finalize();</div><div class="line"> </div><div class="line"><span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p>Compile and Run it. You will have a <b>test.txt</b> test case file with the test cases in the specifed format. Rerun it to generate different valued test case file.</p>
<hr/>
<h1><a class="anchor" id="under_standing"></a>
Understanding Your Program</h1>
<p><b>Line 1</b> : Includes the <code>testcaser/maker</code> module into your program</p>
<p><b>Line 2</b> : Brings in the TestCaseBuilder from its namespace to your program. TestCaseBuilder is the object responsible for creating and writing into the file.</p>
<p><b>Line 3</b> : Brings RandomUnsignedInteger from its namespace. Our Values of A,B and T are all unsigned so we are bring the RandomUnsignedInteger class. It is responsible for generating the random numbers.</p>
<p><b>Line 4 </b> : Starting the main</p>
<p><b>Line 5 </b> : Creating the object of the TestCaseBuilder. It takes a string path &amp; name of the file to write. In our case <b>test.txt</b> in current working directory.</p>
<p><b>Line 6-8 </b> : Creates RandomUnsignedInteger Objects corresponding to A,B,T in Question. We specifed the limits of those random integers For testcase value t, the limit is set to [0,10) and so on.</p>
<p><b>Line 9 </b> : We follow the sequence as mentioned in the problem statement. First line contains t denoting the number of test case. We write a variable by calling <code>builder.add(t)</code> and it returns the value that was written in the file. In this case it will return a number in [0,10) denoting testcase of the problem.</p>
<p><b>Line 10</b> : Now we need a new line after this testcase count. So we add a new line in the file</p>
<p><b>Line 11-16 </b> : We now repeat for each testcase in a for loop. Remember <code>tt</code> is the number of testcase written to file. For Each test case we write 'a' and then put space and write 'b' then give a new line. You can check from the problem statement it was the input format.</p>
<p><b>Line 16-18 </b> : Finally after we have written everything it is important to finalize the builder by calling <code>builder.finalize()</code> and return from main.</p>
<blockquote class="doxtable">
<p><b>It is important to finalize the builder before the builder goes out of scope. if you forget the file will not be written. </b> </p>
</blockquote>
<hr/>
<h1><a class="anchor" id="virtual_judge"></a>
Your Virtual Judge</h1>
<p>We provide a simulator in testcaser that can simulate an Online Judge, like that of codeforces or codechef. You can check if your program runs on time and memory limit of the problem or not. Below is the code for creating and running on a Virtual Judge, but before you do so make sure you have compiled your target program and got the inputs in a text file generated by the maker.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;testcaser/integrator&gt;</span></div><div class="line"> </div><div class="line"><span class="keyword">using</span> <a class="code" href="classtestcaser_1_1integrator_1_1VirtualJudge.html">testcaser::integrator::VirtualJudge</a>;</div><div class="line"> </div><div class="line"><span class="keywordtype">int</span> main() {</div><div class="line"> <span class="keyword">const</span> std::string root = <span class="stringliteral">&quot;./testcaser/core/integrator/tests/&quot;</span>;</div><div class="line"> VirtualJudge()</div><div class="line">   .set_binary(root + <span class="stringliteral">&quot;program.out&quot;</span>)</div><div class="line">   .set_input_file(root + <span class="stringliteral">&quot;input.txt&quot;</span>)</div><div class="line">   .set_output_file(root + <span class="stringliteral">&quot;output2.txt&quot;</span>)</div><div class="line">   .set_time_limit(5)</div><div class="line">   .set_memory_limit(1024*25)</div><div class="line">   .execute()</div><div class="line">   .print_result();</div><div class="line"> <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p> Compile it and Run it. It will run the <b><code>program.out</code></b> with the input to it from file <b><code>input.txt</code></b> and dumps the output of the program to a file <b>output2.txt</b>. It also prints the following on the console</p>
<div class="fragment"><div class="line">&gt;&gt;&gt; Child Process created with pid 19398</div><div class="line">&gt;&gt;&gt; Setting the time constraint to 5 seconds</div><div class="line">&gt;&gt;&gt; Process will be killed <span class="keywordflow">if</span> not returned before 5 second</div><div class="line">&gt;&gt;&gt; Executing ./<a class="code" href="namespacetestcaser.html">testcaser</a>/core/integrator/tests/program.out on child process.</div><div class="line">&gt;&gt;&gt; Completed the child process with exit code 0</div><div class="line"> </div><div class="line">************** RESULTS ***************</div><div class="line">Allocted Virtual Memory : 25600 KB (25 MB)</div><div class="line">Physical Memory Used    : 3412 KB (3.33203 MB)</div><div class="line">Virtual Memory Used     : 20364 KB (19.8867 MB)</div><div class="line">Allocated Time          : 5 second(s)</div><div class="line">Execution Time          : 0.112149 second(s)</div><div class="line">Exit Code               : 0</div><div class="line">Remark                  : Success. Ran under memory and time limit</div><div class="line">***************************************</div></div><!-- fragment --><hr/>
<h1><a class="anchor" id="understanding_v_j"></a>
Understanding Your Judge Program</h1>
<p><b>Line 1 </b> : Include the <code>testcaser/integrator</code> module to the program.</p>
<p><b>Line 2 </b> : Brings VirtualJudge from the namespace.</p>
<p><b>Line 3 </b> : Starts the main function</p>
<p><b>Line 4 </b> : root is a parent path where out <code>program.out</code> and <code>input.txt</code> exist. To save writing the complete path, we put it into a variable.</p>
<p><b>Line 5 </b> : Create the VirtualJudge Object. We will use the builder form here.</p>
<p><b>Line 6 </b> : Set the program to execute. It can be a binary or even a python script path or any other executable. It is a required value.</p>
<p><b>Line 7 </b> : Set the file from which to read the input to the program. It is also a required.</p>
<p><b>Line 8 </b> : Set a path where the outputs from the program will be dumped. This is optional, If you skip this. The outputs will be shown in the console (stdout).</p>
<p><b>Line 9 </b> : Set the time limit to the program in Seconds. This is optional and defaults to 1 second if not specified by the programmer.</p>
<p><b>Line 10 </b> : Set the memory limit to the program in Kilobytes. This is optional and defaults to 256 MB virtual memory if not specified by the programmer.</p>
<p><b>Line 11 </b> : Execute starts the execution of the program specified as a new process. This call is blocking unless the program terminates. It returns a Result object with result of execution.</p>
<p><b>Line 12 </b> : Prints the result of the execution on the console.</p>
<p><b>Line 13 </b> : Returns Zero and Completes the main.</p>
<hr/>
<h1><a class="anchor" id="more_example"></a>
More Examples.</h1>
<p>You can head over <a href="https://github.com/coder3101/testcaser/tree/master/examples"><b>here</b></a> for more examples of building the test case. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="ttc" id="aclasstestcaser_1_1maker_1_1TestCaseBuilder_html"><div class="ttname"><a href="classtestcaser_1_1maker_1_1TestCaseBuilder.html">testcaser::maker::TestCaseBuilder</a></div><div class="ttdoc">A Test Case builder Class that can be used to create a single test case file.</div><div class="ttdef"><b>Definition:</b> builder.hpp:52</div></div>
<div class="ttc" id="aclasstestcaser_1_1integrator_1_1VirtualJudge_html"><div class="ttname"><a href="classtestcaser_1_1integrator_1_1VirtualJudge.html">testcaser::integrator::VirtualJudge</a></div><div class="ttdoc">The VirtualJudge Class use to create a new virtual judge session to run a program.</div><div class="ttdef"><b>Definition:</b> integrator.hpp:40</div></div>
<div class="ttc" id="anamespacetestcaser_html"><div class="ttname"><a href="namespacetestcaser.html">testcaser</a></div><div class="ttdoc">The main namespace of the project. It is the main namespace of the project.</div><div class="ttdef"><b>Definition:</b> BaseExceptions.hpp:23</div></div>
<div class="ttc" id="aclasstestcaser_1_1maker_1_1types_1_1RandomUnsignedInteger_html"><div class="ttname"><a href="classtestcaser_1_1maker_1_1types_1_1RandomUnsignedInteger.html">testcaser::maker::types::RandomUnsignedInteger</a></div><div class="ttdoc">RandomUnsignedInteger object generates a random integer every time .get() is called it follows the ge...</div><div class="ttdef"><b>Definition:</b> RandomTypes.hpp:216</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
